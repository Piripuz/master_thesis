\missingfigure{Remove todonotes package!!}

\chapter{Introduction}

Studying how people move has always been an important issue in the fields of both economics \todo{cite something} and \todo{cite something else} engineering.

From the earliest works, the field has evolved by taking into account increasingly more factors that have an impact on how and when people decide to move.
This chapter will be devoted to briefly explaining how the field grew in the past years and,
finally, what are the problem this work addresses and how it inserts in the rich existing literature regarding traffic modelling.

\section{Evolution of Traffic Modelling}
\label{sec:hist}

Historically, traffic modelling was initially done via static models,
which neglect how the road conditions vary through time:
initial works,\todo{describe some initial work, with citation} for.

This approach was challenged by two seminal papers by William Vickrey (\cite{f32d6720-dd02-34b7-a4ba-c4c21193efe7, 4ffb5da1-1f49-3898-98a7-209781744dc0}),
which gave the first example of what are now known as \textit{dynamic} traffic models,
laying the foundation of bottleneck modelling.
According to this theory, the road network has some junctions whose capacity is limited,
that means that there is a maximal flow of vehicles that can pass through them at any time.
These junctions are called \textit{bottleneck}, since they restrict the traffic flow as a bottleneck does with a flowing liquid.
Identifying the location and capacity of bottlenecks allows thus the forecasting of how traffic changes in the day,
depending on how people will choose to move.

Vickrey's work was later extended by \textcite{de1983stochastic}, which look for a stochastic equilibrium solution, and \textcite{d0907f84-e14a-3d98-ad20-759f41491d6e}, which took into account elastic demand and better formalize the initial model.

According to this models, the users faces a cost for each choice of departure time,
and this cost is parametric on some characteristic of the users,
and depends on the time the user desire to arrive at its destination.
By minimizing the cost, each user chooses thus an optimal departure time:
the system is then studied at equilibrium, when none of the users can act better than how they are currently doing.

This behaviour will yield, depending on the users' preferences,
a different travel time pattern (that is, the way the travel time from origin to destination varies through time),
that will be more or less complex depending on the studied network and the used cost function.

In the original work, the function expressing the cost given the departure time has (in the simplest case) the following form:

\todo{Is this too much?}\begin{equation}
  \label{eq:cost_intro}
  C(t) = \alpha(\text{travel time}) + \beta (\text{time early}) + \gamma (\text{time late})
\end{equation}
where \(\alpha, \beta\) and \(\gamma\) are user-dependant parameters, and \textit{time early}, \textit{time late} are, respectively, how much time a user arrives before the desired arrival time and how much time they arrive after it.

The cost increases here linearly in the schedule delay (but differently, depending on wether it is negative or positive) and on the time spent travelling and is, a priori, not differentiable where the departure time yields a perfectly on-time arrival
(that is, when the arrival time is equal to the desired arrival time),
since an earlier departure would increase the cost by a quantity proportional to \(\beta\),
while a later one would increase the cost by a quantity proportional to \(\gamma\).

More recent works try make the cost function more flexible,
by making a tradeoff with its simplicity:
\todo{Find a paper with quadratic cost}, for instance,
use a smoother cost function, made by considering the cost to be quadratic on schedule delay. \todo{Find possibly more papers that use different travel time functions}

Once a cost function has been chosen, a wide variety of works find the equilibrium for a given network and a given population,
with both an analytical and numerical approach.

Among the work that find the analytical equilibrium, initial works such as \textcite{de1983stochastic} were dealing with a single bottleneck.
They were later extended, taking into account more complex network: initially, \textcite{doi:10.1287/trsc.24.3.217} considers a Y-shaped network,
in which some of the users go trough two different bottlenecks and some others only trough one.
This model was extended by \textcite{doi:10.1287/trsc.27.2.148},
who studied a Y-shaped network with three different bottlenecks.
More recently, \textcite{AKAMATSU2015808} analytically studied a network with several bottlenecks.

Similarly, initial works considered the users to be homogeneous.
Later works relaxed this hypothesis, taking into account users with heterogeneous preferences or different desired arrival times.
Notably, \textcite{arnott1988schedule} analytically solves the problem to equilibrium when the users are divided in a finite number of groups,
each one of whose has different values of \(\alpha\) and \(\beta\),
but constant ratio \(\gamma/\beta\).
Furthermore, \textcite{amirgholy2017analytical} compute an analytical solution in the case of uniformly distributed preferences,
and numerically approximate it in case of other distributions.

Numerically, the implementation of Vickrey's model in simulators allows to find a solution for more complex situation and large scale networks,
and to perform simulations on digital twins of real models.
\textcite{de1997metropolis} developed a dynamic simulator, that iteratively finds an equilibrium solution for an arbitrarily complex network and user base.
This simulator, and its second version \parencite{RePEc:ema:worpap:2024-03},
were extensively used to simulate real networks and to evaluate effect of policies (see \cite{de2002real,de2005congestion,de2006modelling})

For the development of this thesis,
the next section will be devoted to a deeper study of equation \eqref{eq:cost_intro}.
For a deeper review of the development of bottleneck modelling, please refer to \cite{LI2020311}.

\section{Scheduling Delay Preferences}

As seen in the previous section, every user will make a decision regarding when to depart from their origin and,
in the simplest case, acts minimizing the cost function \eqref{eq:cost_intro}:
\begin{equation*}
  C(t) = \alpha(\text{travel time}) + \beta (\text{time early}) + \gamma (\text{time late})
\end{equation*}
Given the travel time pattern, this decision will be made depending on some parameters, namely:
the desired arrival time at destination, that will be denoted as \(t^*\) throughout the thesis;
the parameter \(\alpha\), which determines the cost of each unit of time spent travelling;
the parameters \(\beta, \gamma\), which are, respectively,
the cost of arriving early and late to destination by one unit of time.
% Note that, for each user, minimizing the cost function is the same as minimizing a rescaled version of it:

For the morning peak, the desired arrival time \(t^*\) will usually be the starting time at work:
note indeed that the usual behaviour of planning to arrive some time earlier to work is likely caused by risk aversion, which will not be taken in account in this thesis (for further discussion on this, see \cite{doi:10.1177/0361198118792336}).
Values for \(\alpha, \beta\) and \(\gamma\) depend, on the other hand, on the user.
While \(\alpha\) can be assumed to depend on the whole set of the social-economics characteristic of the user,
the parameters \(\beta, \gamma\) can have a more intuitive meaning:
for instance, experience may suggest me that a Master student will have very low value for both of them when writing their thesis, since the work can be carried out at whatever time, without any constraint on when to arrive to the office.
The same Master student will on the other hand have a really high value of \(\gamma\) when following classes:
it may indeed be that the professor closes the door of the class when starting the class, resulting in a big loss of knowledge for the student arriving late.
Lastly, a young Italian could have a high value of \(\beta\) when going to a social gathering:
the embarrassment in having to wait the others alone could be, in some cultures, pretty costly.


%%% Local Variables:
%%% mode: LaTeX
%%% TeX-master: "../main"
%%% End:
